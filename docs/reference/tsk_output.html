<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Task output — tsk_output • assemblerr</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Task output — tsk_output" />
<meta property="og:description" content="These functions define output tasks that include the selected variables in the output of the generated model." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">assemblerr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/getting-started.html">Getting started</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/UUPharmacometrics/assemblerr/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Task output</h1>
    <small class="dont-index">Source: <a href='https://github.com/UUPharmacometrics/assemblerr/blob/master/R/tasks.R'><code>R/tasks.R</code></a></small>
    <div class="hidden name"><code>tsk_output.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>These functions define output tasks that include the selected variables in the output of the generated model.</p>
    </div>

    <pre class="usage"><span class='fu'>tsk_output</span><span class='op'>(</span>filename <span class='op'>=</span> <span class='st'>"sdtab"</span>, <span class='va'>variables</span><span class='op'>)</span>

<span class='fu'>tsk_output_xpose4</span><span class='op'>(</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>filename</th>
      <td><p>The filename for the output file</p></td>
    </tr>
    <tr>
      <th>variables</th>
      <td><p>The model variables that be included in the output</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A building block of type 'output_task'</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    
<h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Tasks</h3>


<p>Tasks are building blocks that allow to specify what a model should
“do”. Like other model building blocks, they can be combined using
the <code><a href='https://rdrr.io/r/base/Arithmetic.html'>+</a></code> operator. However, they should not be added to a model but
rather provided via the <code>tasks=</code> argument to the render function, e.g.,<div class="sourceCode r"></p><pre><span class='fu'><a href='render.html'>render</a></span><span class='op'>(</span><span class='va'>m</span>, tasks <span class='op'>=</span> <span class='fu'><a href='tsk_estimation.html'>tsk_estimation</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
   <span class='fu'>tsk_output_xpose4</span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span>
</pre><p></div></p>

<h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Output tasks</h3>


<p>For NONMEM, an output task defines the <code>$TABLE</code> records by specifying the <code>filename=</code> as well as the <code>variables=</code> to include.</p>
<p>The variables can be specified by providing a character vector of variable names (e.g., <code>variables =  c('cl','v')</code>) or by
using a set of variable selection helpers (e.g., <code>variables = vars_prms()</code>). The latter is shorter if many variables are to
be selected and allows the specification of tasks independent from the model. The details of the variable selection language
can be found on the help pages for <a href='model-variable-selection.html'>model-variable-selection</a>.</p>

<h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>xpose4 output task</h3>


<p>The <code>tsk_output_xpose4()</code> function includes <code>$TABLE</code> records that follow the output conventions of the model diagnostic package xpose4.
It is a shortcut for the following two output tasks:</p><pre> <span class='va'>xpose4_output</span> <span class='op'>&lt;-</span> <span class='fu'>tsk_output</span><span class='op'>(</span><span class='st'>"sdtab"</span>, variables <span class='op'>=</span> <span class='fu'>any_of</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"id"</span>,<span class='st'>"time"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>|</span> <span class='fu'><a href='model-variable-selection.html'>vars_nm_std</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>tsk_output</span><span class='op'>(</span><span class='st'>"patab"</span>, variables <span class='op'>=</span> <span class='fu'><a href='model-variable-selection.html'>vars_prms</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>|</span> <span class='fu'><a href='model-variable-selection.html'>vars_eta</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span>
</pre>


    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other tasks: 
<code><a href='tsk_estimation.html'>tsk_estimation</a>()</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='va'>m</span> <span class='op'>&lt;-</span> <span class='fu'><a href='model.html'>model</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='input_variable.html'>input_variable</a></span><span class='op'>(</span><span class='st'>"dose"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='prm_log_normal.html'>prm_log_normal</a></span><span class='op'>(</span><span class='st'>"emax"</span>, median <span class='op'>=</span> <span class='fl'>10</span>, var_log <span class='op'>=</span> <span class='fl'>0.09</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='prm_log_normal.html'>prm_log_normal</a></span><span class='op'>(</span><span class='st'>"ed50"</span>, median <span class='op'>=</span> <span class='fl'>50</span>, var_log <span class='op'>=</span> <span class='fl'>0.09</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='algebraic.html'>algebraic</a></span><span class='op'>(</span><span class='va'>effect</span><span class='op'>~</span><span class='va'>emax</span><span class='op'>*</span><span class='va'>dose</span><span class='op'>/</span><span class='op'>(</span><span class='va'>ed50</span> <span class='op'>+</span> <span class='va'>dose</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='obs_proportional.html'>obs_proportional</a></span><span class='op'>(</span><span class='op'>~</span><span class='va'>effect</span>, var_prop <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>
<span class='co'># output model parameters to file 'prms'</span>
<span class='fu'><a href='render.html'>render</a></span><span class='op'>(</span><span class='va'>m</span>, tasks <span class='op'>=</span> <span class='fu'>tsk_output</span><span class='op'>(</span><span class='st'>"prms"</span>, variables <span class='op'>=</span> <span class='fu'><a href='model-variable-selection.html'>vars_prms</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; $PROBLEM
#&gt; $INPUT DOSE ID DV
#&gt; $DATA data.csv IGNORE=@
#&gt; $PRED
#&gt; EMAX = THETA(1) * EXP(ETA(1))
#&gt; ED50 = THETA(2) * EXP(ETA(2))
#&gt; EFFECT = EMAX * DOSE/(ED50 + DOSE)
#&gt; Y = EFFECT + EFFECT * EPS(1)
#&gt; $TABLE EMAX ED50 FILE=prms NOAPPEND NOPRINT
#&gt; $THETA (0, 10, Inf) ; POP_EMAX
#&gt; $THETA (0, 50, Inf) ; POP_ED50
#&gt; $OMEGA 0.09 ; IIV_EMAX
#&gt; $OMEGA 0.09 ; IIV_ED50
#&gt; $SIGMA 1; RUV_PROP</div><div class='input'><span class='co'># output variables required by xpose4</span>
<span class='fu'><a href='render.html'>render</a></span><span class='op'>(</span><span class='va'>m</span>, tasks <span class='op'>=</span> <span class='fu'>tsk_output_xpose4</span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; $PROBLEM
#&gt; $INPUT DOSE ID DV
#&gt; $DATA data.csv IGNORE=@
#&gt; $PRED
#&gt; EMAX = THETA(1) * EXP(ETA(1))
#&gt; ED50 = THETA(2) * EXP(ETA(2))
#&gt; EFFECT = EMAX * DOSE/(ED50 + DOSE)
#&gt; Y = EFFECT + EFFECT * EPS(1)
#&gt; $TABLE DV PRED RES WRES IPREDI IWRESI CWRES FILE=sdtab NOAPPEND NOPRINT
#&gt; $TABLE EMAX ED50 ETA(1) ETA(2) FILE=patab NOAPPEND NOPRINT
#&gt; $THETA (0, 10, Inf) ; POP_EMAX
#&gt; $THETA (0, 50, Inf) ; POP_ED50
#&gt; $OMEGA 0.09 ; IIV_EMAX
#&gt; $OMEGA 0.09 ; IIV_ED50
#&gt; $SIGMA 1; RUV_PROP</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Sebastian Ueckert, F. Hoffmann-La Roche Ltd..</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


