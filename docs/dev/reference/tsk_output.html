<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Task output — tsk_output • assemblerr</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Task output — tsk_output"><meta property="og:description" content="These functions define output tasks that include the selected variables in the output of the generated model."><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">assemblerr</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.1.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/getting-started.html">Getting started</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/UUPharmacometrics/assemblerr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Task output</h1>
    <small class="dont-index">Source: <a href="https://github.com/UUPharmacometrics/assemblerr/blob/HEAD/R/tasks.R" class="external-link"><code>R/tasks.R</code></a></small>
    <div class="hidden name"><code>tsk_output.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>These functions define output tasks that include the selected variables in the output of the generated model.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">tsk_output</span><span class="op">(</span>filename <span class="op">=</span> <span class="st">"sdtab"</span>, <span class="va">variables</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">tsk_output_xpose4</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>filename</dt>
<dd><p>The filename for the output file</p></dd>


<dt>variables</dt>
<dd><p>The model variables that be included in the output</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A building block of type 'output_task'</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    
<div class="section">
<h3 id="tasks">Tasks<a class="anchor" aria-label="anchor" href="#tasks"></a></h3>


<p>Tasks are building blocks that allow to specify what a model should
“do”. Like other model building blocks, they can be combined using
the <code>+</code> operator. However, they should not be added to a model but
rather provided via the <code>tasks=</code> argument to the render function, e.g.,</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="fu"><a href="../reference/render.html">render</a></span><span class="op">(</span><span class="va">m</span>, tasks <span class="op">=</span> <span class="fu"><a href="../reference/tsk_estimation.html">tsk_estimation</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>   <span class="fu"><a href="../reference/tsk_output.html">tsk_output_xpose4</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre><p></p></div>
</div>

<div class="section">
<h3 id="output-tasks">Output tasks<a class="anchor" aria-label="anchor" href="#output-tasks"></a></h3>


<p>For NONMEM, an output task defines the <code>$TABLE</code> records by specifying the <code>filename=</code> as well as the <code>variables=</code> to include.</p>
<p>The variables can be specified by providing a character vector of variable names (e.g., <code>variables =  c('cl','v')</code>) or by
using a set of variable selection helpers (e.g., <code>variables = vars_prms()</code>). The latter is shorter if many variables are to
be selected and allows the specification of tasks independent from the model. The details of the variable selection language
can be found on the help pages for <a href="model-variable-selection.html">model-variable-selection</a>.</p>
</div>

<div class="section">
<h3 id="xpose-output-task">xpose4 output task<a class="anchor" aria-label="anchor" href="#xpose-output-task"></a></h3>


<p>The <code>tsk_output_xpose4()</code> function includes <code>$TABLE</code> records that follow the output conventions of the model diagnostic package xpose4.
It is a shortcut for the following two output tasks:</p>
<p></p><div class="sourceCode"><pre><code><a class="sourceLine" id="cb1-1" title="1"> xpose4_output &lt;-<span class="st"> </span><span class="kw">tsk_output</span>(<span class="st">"sdtab"</span>, <span class="dt">variables =</span> <span class="kw">any_of</span>(<span class="kw">c</span>(<span class="st">"id"</span>,<span class="st">"time"</span>)) <span class="op">|</span><span class="st"> </span><span class="kw">vars_nm_std</span>()) <span class="op">+</span></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="st">  </span><span class="kw">tsk_output</span>(<span class="st">"patab"</span>, <span class="dt">variables =</span> <span class="kw">vars_prms</span>() <span class="op">|</span><span class="st"> </span><span class="kw">vars_eta</span>())</a></code></pre><p></p></div>
</div>

    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Other tasks: 
<code><a href="tsk_estimation.html">tsk_estimation</a>()</code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="model.html">model</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="input_variables.html">input_variable</a></span><span class="op">(</span><span class="st">"dose"</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="prm_log_normal.html">prm_log_normal</a></span><span class="op">(</span><span class="st">"emax"</span>, median <span class="op">=</span> <span class="fl">10</span>, var_log <span class="op">=</span> <span class="fl">0.09</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="prm_log_normal.html">prm_log_normal</a></span><span class="op">(</span><span class="st">"ed50"</span>, median <span class="op">=</span> <span class="fl">50</span>, var_log <span class="op">=</span> <span class="fl">0.09</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="algebraic.html">algebraic</a></span><span class="op">(</span><span class="va">effect</span><span class="op">~</span><span class="va">emax</span><span class="op">*</span><span class="va">dose</span><span class="op">/</span><span class="op">(</span><span class="va">ed50</span> <span class="op">+</span> <span class="va">dose</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="obs_proportional.html">obs_proportional</a></span><span class="op">(</span><span class="op">~</span><span class="va">effect</span>, var_prop <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># output model parameters to file 'prms'</span></span></span>
<span class="r-in"><span><span class="fu"><a href="render.html">render</a></span><span class="op">(</span><span class="va">m</span>, tasks <span class="op">=</span> <span class="fu">tsk_output</span><span class="op">(</span><span class="st">"prms"</span>, variables <span class="op">=</span> <span class="fu"><a href="model-variable-selection.html">vars_prms</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $PROBLEM</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $INPUT DOSE ID DV</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $DATA data.csv IGNORE=@</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $PRED</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> EMAX = THETA(1) * EXP(ETA(1))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ED50 = THETA(2) * EXP(ETA(2))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> EFFECT = EMAX * DOSE/(ED50 + DOSE)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Y = EFFECT + EFFECT * EPS(1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $TABLE EMAX ED50 FILE=prms NOAPPEND NOPRINT</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $THETA (0, 10, Inf) ; POP_EMAX</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $THETA (0, 50, Inf) ; POP_ED50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $OMEGA 0.09 ; IIV_EMAX</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $OMEGA 0.09 ; IIV_ED50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $SIGMA 1; RUV_PROP</span>
<span class="r-in"><span><span class="co"># output variables required by xpose4</span></span></span>
<span class="r-in"><span><span class="fu"><a href="render.html">render</a></span><span class="op">(</span><span class="va">m</span>, tasks <span class="op">=</span> <span class="fu">tsk_output_xpose4</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $PROBLEM</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $INPUT DOSE ID DV</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $DATA data.csv IGNORE=@</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $PRED</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> EMAX = THETA(1) * EXP(ETA(1))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ED50 = THETA(2) * EXP(ETA(2))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> EFFECT = EMAX * DOSE/(ED50 + DOSE)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Y = EFFECT + EFFECT * EPS(1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $TABLE DV PRED RES WRES IPREDI IWRESI CWRES FILE=sdtab NOAPPEND NOPRINT</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $TABLE EMAX ED50 ETA(1) ETA(2) FILE=patab NOAPPEND NOPRINT</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $THETA (0, 10, Inf) ; POP_EMAX</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $THETA (0, 50, Inf) ; POP_ED50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $OMEGA 0.09 ; IIV_EMAX</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $OMEGA 0.09 ; IIV_ED50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $SIGMA 1; RUV_PROP</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Sebastian Ueckert, F. Hoffmann-La Roche Ltd..</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

