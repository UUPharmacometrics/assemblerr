<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Observation with combined error — obs_combined • assemblerr</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Observation with combined error — obs_combined"><meta property="og:description" content="This building block declares an observation model with a combined residual error model (\(y = f + f \epsilon_1 + \epsilon_2\))."><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">assemblerr</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.1.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/getting-started.html">Getting started</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/UUPharmacometrics/assemblerr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Observation with combined error</h1>
    <small class="dont-index">Source: <a href="https://github.com/UUPharmacometrics/assemblerr/blob/HEAD/R/observation.R" class="external-link"><code>R/observation.R</code></a></small>
    <div class="hidden name"><code>obs_combined.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This building block declares an observation model with a combined residual error model (\(y = f + f \epsilon_1 + \epsilon_2\)).</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">obs_combined</span><span class="op">(</span><span class="va">prediction</span>, <span class="va">name</span>, var_prop <span class="op">=</span> <span class="fl">0.1</span>, var_add <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>prediction</dt>
<dd><p>A definition of the model prediction</p></dd>


<dt>name</dt>
<dd><p>A name for the observation (automatically derived if missing)</p></dd>


<dt>var_prop</dt>
<dd><p>Variance of the proportional error component</p></dd>


<dt>var_add</dt>
<dd><p>Variance of the additive error component</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A building block of type 'observation'</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>Observation models specify the observed variable, how an observation is
expected to diverge from the model (i.e, the residual unexplained
variability model), and parameter values. The observation model type is
selected through the function name. The observed variable as well as the
parameters are specified as function arguments.</p><div class="section">
<h3 id="specifying-predictions">Specifying predictions<a class="anchor" aria-label="anchor" href="#specifying-predictions"></a></h3>


<p>The actual prediction from the model is the first argument of the
function. It can be specified in a number of different ways:</p><ul><li><p>A name of a variable in the model: <code>obs_additive("effect")</code></p></li>
<li><p>A compartment concentration: <code>obs_additive(~C["central"])</code></p></li>
<li><p>An equation: <code>obs_additive(~base+slp*time)</code></p></li>
</ul><p>If the definition contains a variable name on the left-hand side (as in
<code>conc~C["central"]</code>), the variable will appear in the generated model
code. This can be useful to make the model code more readable if the
prediction is defined as a long equation.</p>
</div>

<div class="section">
<h3 id="observation-names">Observation names<a class="anchor" aria-label="anchor" href="#observation-names"></a></h3>


<p>The observation name can be specified via the <code>name=</code> argument and is
automatically derived if the argument is left empty. Adding an
observation model with an already existing name will replace the
previous definition.</p>
</div>

<div class="section">
<h3 id="error-variance">Error variance<a class="anchor" aria-label="anchor" href="#error-variance"></a></h3>


<p>The variance of the error components are specified via the <code>var_add=</code>
and <code>var_prop=</code> arguments of the function.</p>
</div>

    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Other observation models: 
<code><a href="obs_additive.html">obs_additive</a>()</code>,
<code><a href="obs_proportional.html">obs_proportional</a>()</code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># additve RUV model for observing the variable WT</span></span></span>
<span class="r-in"><span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="model.html">model</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="prm_log_normal.html">prm_log_normal</a></span><span class="op">(</span><span class="st">"wt"</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="obs_additive.html">obs_additive</a></span><span class="op">(</span><span class="op">~</span><span class="va">wt</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># EMAX dose-response model with proportional RUV</span></span></span>
<span class="r-in"><span><span class="va">m2</span> <span class="op">&lt;-</span> <span class="fu"><a href="model.html">model</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="input_variables.html">input_variable</a></span><span class="op">(</span><span class="st">"dose"</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="prm_no_var.html">prm_no_var</a></span><span class="op">(</span><span class="st">"emax"</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="prm_no_var.html">prm_no_var</a></span><span class="op">(</span><span class="st">"ed50"</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="obs_proportional.html">obs_proportional</a></span><span class="op">(</span><span class="va">effect</span><span class="op">~</span><span class="va">emax</span><span class="op">*</span><span class="va">dose</span><span class="op">/</span><span class="op">(</span><span class="va">ed50</span><span class="op">+</span><span class="va">dose</span><span class="op">)</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Sebastian Ueckert, F. Hoffmann-La Roche Ltd..</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

